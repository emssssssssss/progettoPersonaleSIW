<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" th:href="@{/css/Eventi.css}" />
    <title>Lista Eventi</title>
</head>

<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <h1>Lista Eventi</h1>
    <!-- Pulsante Crea Evento, visibile solo allo staff -->
    <div class="crea-evento-container" sec:authorize="hasRole('STAFF')">
        <a th:href="@{/evento/aggiungi}">
            <button class="btn-crea">Crea Nuovo Evento</button>
        </a>
    </div>

    <ul class="eventi-lista">

        <li th:each="evento : ${eventi}" class="evento-item">
            <a th:href="@{/evento/{id}(id=${evento.id})}" class="evento-link">
                <div class="evento-immagine">
                    <img th:src="@{${'/uploads/' + evento.urlImage}}" alt="Foto evento" />
                </div>
                <div class="evento-titolo">
                    <span th:text="${evento.titolo}">Titolo Evento</span>
                </div>
            </a>
        </li>
    </ul>

</body>

</html>